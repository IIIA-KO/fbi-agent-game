<div class="container">
  <h1>FBI Agent Game</h1>

  <div class="message-box" *ngIf="gameState?.message">
    {{ gameState?.message }}
  </div>

  <div class="status-container" [class.game-over]="gameState?.gameOver">
    <h2>Agent Status</h2>
    <div class="status-bars">
      <div class="status-item">
        <label>Energy:</label>
        <div class="progress-bar">
          <div class="progress energy" [style.width]="gameState?.agentStatus?.energy + '%'"></div>
        </div>
        <span>{{gameState?.agentStatus?.energy}}%</span>
      </div>

      <div class="status-item">
        <label>Stress:</label>
        <div class="progress-bar">
          <div class="progress stress" [style.width]="gameState?.agentStatus?.stress + '%'"></div>
        </div>
        <span>{{gameState?.agentStatus?.stress}}%</span>
      </div>

      <div class="status-item">
        <label>Mood:</label>
        <div class="progress-bar">
          <div class="progress mood" [style.width]="gameState?.agentStatus?.mood + '%'"></div>
        </div>
        <span>{{gameState?.agentStatus?.mood}}%</span>
      </div>
    </div>
  </div>

  <div class="resources-container">
    <h2>Resources</h2>
    <div class="resources">
      <div>Coffee: {{gameState?.resources?.coffee}}</div>
      <div>Donuts: {{gameState?.resources?.donuts}}</div>
      <div>Breaks: {{gameState?.resources?.breakTime}}</div>
    </div>
  </div>

  <div class="actions-container" *ngIf="!gameState?.gameOver">
    <h2>Actions</h2>
    <div class="button-group">
      <button (click)="performAction('give_coffee')" [disabled]="gameState?.resources?.coffee <= 0">
        Give Coffee
      </button>
      <button (click)="performAction('give_donuts')" [disabled]="gameState?.resources?.donuts <= 0">
        Give Donuts
      </button>
      <button (click)="performAction('take_break')" [disabled]="gameState?.resources?.breakTime <= 0">
        Take Break
      </button>
    </div>
    <div class="button-group">
      <button (click)="performAction('buy_coffee')" [disabled]="gameState?.agentStatus?.energy < 20">
        Buy Coffee (-20 Energy)
      </button>
      <button (click)="performAction('buy_donuts')" [disabled]="gameState?.agentStatus?.energy < 15">
        Buy Donuts (-15 Energy)
      </button>
    </div>
  </div>

  <div class="game-over-container" *ngIf="gameState?.gameOver">
    <h2>Game Over!</h2>
    <button class="reset-button" (click)="resetGame()">Start New Game</button>
  </div>
</div>
